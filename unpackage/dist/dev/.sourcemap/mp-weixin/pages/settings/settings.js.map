{"version":3,"file":"settings.js","sources":["pages/settings/settings.vue","D:/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2V0dGluZ3Mvc2V0dGluZ3MudnVl"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 显示预算数字或编辑界面 -->\n    <view v-if=\"!isEditing\" class=\"budget-display\">\n      <text class=\"budget-text\">当前预算: {{ budget }} 元</text>\n      <button @click=\"editBudget\" class=\"edit-button\">编辑</button>\n    </view>\n\n    <!-- 编辑模式 -->\n    <view v-else class=\"budget-edit\">\n      <input \n        v-model=\"newBudget\" \n        type=\"number\" \n        placeholder=\"请输入预算\"\n        class=\"budget-input\" \n        value=\"newBudget\"\n        step=\"0.01\"\n        min=\"0\"\n      />\n      <button @click=\"saveBudget\" class=\"save-button\">确定</button>\n    </view>\r\n\t\r\n\t<view>\r\n\t\t<button @click=\"clearMemory\" class=\"clear-button\">清空缓存</button>\r\n\t</view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      budget: 1000, // 默认预算为1000，可以从本地存储中加载\n      isEditing: false, // 控制是否显示编辑界面\n      newBudget: '', // 用来保存编辑中的新预算值\n    };\n  },\n  onLoad() {\n    // 尝试从本地存储中加载预算\n    const savedBudget = uni.getStorageSync('budget')|| 1000;\n    if (savedBudget) {\n      this.budget = savedBudget;\n    }\n  },\n  methods: {\n    // 切换到编辑模式\n    editBudget() {\n      this.isEditing = true;\n      this.newBudget = this.budget; // 载入当前预算到输入框\n    },\n    // 保存新预算\n    saveBudget() {\n      const parsedBudget = parseFloat(this.newBudget);\n      if (isNaN(parsedBudget) || parsedBudget <= 0) {\n        uni.showToast({\n          title: '请输入有效的数字',\n          icon: 'none'\n        });\n        return;\n      }\n\n      this.budget = parsedBudget;\n      uni.setStorageSync('budget', this.budget); // 保存到本地存储\n\n      this.isEditing = false; // 退出编辑模式\n    },\r\n\tclearMemory(){\r\n\t\tuni.setStorageSync('bills', null);\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '已清除账单缓存',\r\n\t\t\ticon: 'success'\r\n\t\t});\r\n\t}\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  padding: 20px;\n  background-color: #f5f5f5;\n  height: 100vh;\n  box-sizing: border-box;\r\n  \n}\r\n\r\n  \r\n\n .budget-display {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n  \r\n  .budget-text {\r\n    font-size: 20px;\r\n    color: #333;\r\n  }\r\n  \r\n  .edit-button {\r\n    padding: 2px 20px;\r\n    background-color: #7bc7cf;\r\n    color: #fff;\r\n    border-radius: 5px;\r\n    border: none;\r\n  }\r\n  \r\n  .budget-edit {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n  \r\n  .budget-input {\r\n    width: 70%;\r\n    padding: 8px;\r\n    border-radius: 5px;\r\n    border: 1px solid #ddd;\r\n    font-size: 16px;\r\n  }\r\n  \r\n  .save-button {\r\n    padding: 2px 20px;\r\n    background-color: #7bc7cf;\r\n    color: #fff;\r\n    border-radius: 5px;\r\n    border: none;\r\n  }\n\r\n\r\n\t.clear-button{\r\n\ttop: 40px;\r\n \tpadding: 5px 50px;\r\n \tbackground-color: #7bc7cf;\r\n \tcolor: #fff;\r\n \tborder-radius: 5px;\r\n \tborder: none;\t\r\n\t\r\n }\n</style>\n","import MiniProgramPage from 'E:/HBuilderProjects/BillRecord/pages/settings/settings.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AA6BA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,QAAQ;AAAA;AAAA,MACR,WAAW;AAAA;AAAA,MACX,WAAW;AAAA;AAAA;EAEd;AAAA,EACD,SAAS;AAEP,UAAM,cAAcA,cAAG,MAAC,eAAe,QAAQ,KAAI;AACnD,QAAI,aAAa;AACf,WAAK,SAAS;AAAA,IAChB;AAAA,EACD;AAAA,EACD,SAAS;AAAA;AAAA,IAEP,aAAa;AACX,WAAK,YAAY;AACjB,WAAK,YAAY,KAAK;AAAA,IACvB;AAAA;AAAA,IAED,aAAa;AACX,YAAM,eAAe,WAAW,KAAK,SAAS;AAC9C,UAAI,MAAM,YAAY,KAAK,gBAAgB,GAAG;AAC5CA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACR,CAAC;AACD;AAAA,MACF;AAEA,WAAK,SAAS;AACdA,oBAAAA,MAAI,eAAe,UAAU,KAAK,MAAM;AAExC,WAAK,YAAY;AAAA,IAClB;AAAA,IACJ,cAAa;AACZA,oBAAAA,MAAI,eAAe,SAAS,IAAI;AAChCA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,MACP,CAAC;AAAA,IACF;AAAA,EACC;AACF;;;;;;;;;;;;;;;;ACzEA,GAAG,WAAW,eAAe;"}