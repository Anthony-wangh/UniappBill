{"version":3,"file":"l-echart.js","sources":["uni_modules/lime-echart/components/l-echart/l-echart.vue","D:/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTovSEJ1aWxkZXJQcm9qZWN0cy9CaWxsUmVjb3JkL3VuaV9tb2R1bGVzL2xpbWUtZWNoYXJ0L2NvbXBvbmVudHMvbC1lY2hhcnQvbC1lY2hhcnQudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"lime-echart\" :style=\"[customStyle]\" v-if=\"canvasId\" ref=\"limeEchart\" :aria-label=\"ariaLabel\">\r\n\t\t<!-- #ifndef APP-NVUE -->\r\n\t\t<canvas\r\n\t\t\tclass=\"lime-echart__canvas\"\r\n\t\t\tv-if=\"use2dCanvas\"\r\n\t\t\ttype=\"2d\"\r\n\t\t\t:id=\"canvasId\"\r\n\t\t\t:style=\"canvasStyle\"\r\n\t\t\t:disable-scroll=\"isDisableScroll\"\r\n\t\t\t@touchstart=\"touchStart\"\r\n\t\t\t@touchmove=\"touchMove\"\r\n\t\t\t@touchend=\"touchEnd\"\r\n\t\t/>\r\n\t\t<canvas\r\n\t\t\tclass=\"lime-echart__canvas\"\r\n\t\t\tv-else\r\n\t\t\t:width=\"nodeWidth\"\r\n\t\t\t:height=\"nodeHeight\"\r\n\t\t\t:style=\"canvasStyle\"\r\n\t\t\t:canvas-id=\"canvasId\"\r\n\t\t\t:id=\"canvasId\"\r\n\t\t\t:disable-scroll=\"isDisableScroll\"\r\n\t\t\t@touchstart=\"touchStart\"\r\n\t\t\t@touchmove=\"touchMove\"\r\n\t\t\t@touchend=\"touchEnd\"\r\n\t\t/>\r\n\t\t<view class=\"lime-echart__mask\"\r\n\t\t\tv-if=\"isPC\"\r\n\t\t\t@mousedown=\"touchStart\"\r\n\t\t\t@mousemove=\"touchMove\"\r\n\t\t\t@mouseup=\"touchEnd\"\r\n\t\t\t@touchstart=\"touchStart\"\r\n\t\t\t@touchmove=\"touchMove\"\r\n\t\t\t@touchend=\"touchEnd\">\r\n\t\t</view>\r\n\t\t<canvas v-if=\"isOffscreenCanvas\" :style=\"offscreenStyle\" :canvas-id=\"offscreenCanvasId\"></canvas>\r\n\t\t<!-- #endif -->\r\n\t\t<!-- #ifdef APP-NVUE -->\r\n\t\t<web-view\r\n\t\t\tclass=\"lime-echart__canvas\"\r\n\t\t\t:id=\"canvasId\"\r\n\t\t\t:style=\"canvasStyle\"\r\n\t\t\t:webview-styles=\"webviewStyles\"\r\n\t\t\tref=\"webview\"\r\n\t\t\tsrc=\"/uni_modules/lime-echart/static/uvue.html?v=1\"\r\n\t\t\t@pagefinish=\"finished = true\"\r\n\t\t\t@onPostMessage=\"onMessage\"\r\n\t\t></web-view>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n// @ts-nocheck\r\n// #ifndef APP-NVUE\r\nimport {Canvas, setCanvasCreator, dispatch} from './canvas';\r\nimport {wrapTouch, convertTouchesToArray, devicePixelRatio ,sleep, canIUseCanvas2d, getRect, getDeviceInfo} from './utils';\r\n// #endif\r\n// #ifdef APP-NVUE\r\nimport { base64ToPath, sleep } from './utils';\r\nimport {Echarts} from './nvue'\r\n// #endif\r\nconst charts = {}\r\nconst echartsObj = {}\r\n\r\n\r\n/**\r\n * LimeChart 图表\r\n * @description 全端兼容的eCharts\r\n * @tutorial https://ext.dcloud.net.cn/plugin?id=4899\r\n\r\n * @property {String} customStyle 自定义样式\r\n * @property {String} type 指定 canvas 类型\r\n * @value 2d 使用canvas 2d，部分小程序支持\r\n * @value '' 使用原生canvas，会有层级问题\r\n * @value bottom right\t不缩放图片，只显示图片的右下边区域\r\n * @property {Boolean} isDisableScroll\t \r\n * @property {number} beforeDelay = [30]  延迟初始化 (毫秒)\r\n * @property {Boolean} enableHover PC端使用鼠标悬浮\r\n\r\n * @event {Function} finished 加载完成触发\r\n */\r\nexport default {\r\n\tname: 'lime-echart',\r\n\tprops: {\r\n\t\t// #ifdef MP-WEIXIN || MP-TOUTIAO\r\n\t\ttype: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '2d'\r\n\t\t},\r\n\t\t// #endif\r\n\t\t// #ifdef APP-NVUE\r\n\t\twebviewStyles: Object,\r\n\t\t// hybrid: Boolean,\r\n\t\t// #endif\r\n\t\tcustomStyle: String,\r\n\t\tisDisableScroll: Boolean,\r\n\t\tisClickable: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\tenableHover: Boolean,\r\n\t\tbeforeDelay: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 30\r\n\t\t},\r\n\t\tlandscape: Boolean\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// #ifdef MP-WEIXIN || MP-TOUTIAO || MP-ALIPAY\r\n\t\t\tuse2dCanvas: true,\r\n\t\t\t// #endif\r\n\t\t\t// #ifndef MP-WEIXIN || MP-TOUTIAO || MP-ALIPAY\r\n\t\t\tuse2dCanvas: false,\r\n\t\t\t// #endif\r\n\t\t\tariaLabel: '图表',\r\n\t\t\twidth: null,\r\n\t\t\theight: null,\r\n\t\t\tnodeWidth: null,\r\n\t\t\tnodeHeight: null,\r\n\t\t\t// canvasNode: null,\r\n\t\t\tconfig: {},\r\n\t\t\tinited: false,\r\n\t\t\tfinished: false,\r\n\t\t\tfile: '',\r\n\t\t\tplatform: '',\r\n\t\t\tisPC: false,\r\n\t\t\tisDown: false,\r\n\t\t\tisOffscreenCanvas: false,\r\n\t\t\toffscreenWidth: 0,\r\n\t\t\toffscreenHeight: 0,\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\trootStyle() {\r\n\t\t\tif(this.landscape) {\r\n\t\t\t\treturn `transform: translate(-50%,-50%) rotate(90deg); top:50%; left:50%;`\r\n\t\t\t}\r\n\t\t},\r\n\t\tcanvasId() {\r\n\t\t\treturn `lime-echart${this._ && this._.uid || this._uid}`\r\n\t\t},\r\n\t\toffscreenCanvasId() {\r\n\t\t\treturn `${this.canvasId}_offscreen`\r\n\t\t},\r\n\t\toffscreenStyle() {\r\n\t\t\treturn `width:${this.offscreenWidth}px;height: ${this.offscreenHeight}px; position: fixed; left: 99999px; background: red`\r\n\t\t},\r\n\t\tcanvasStyle() {\r\n\t\t\treturn this.rootStyle + (this.width && this.height ? ('width:' + this.width + 'px;height:' + this.height + 'px') : '')\r\n\t\t}\r\n\t},\r\n\t// #ifndef VUE3\r\n\tbeforeDestroy() {\r\n\t\tthis.clear()\r\n\t\tthis.dispose()\r\n\t\t// #ifdef H5\r\n\t\tif(this.isPC) {\r\n\t\t\tdocument.removeEventListener('mousewheel', this.mousewheel)\r\n\t\t}\r\n\t\t// #endif\r\n\t},\r\n\t// #endif\r\n\t// #ifdef VUE3\r\n\tbeforeUnmount() {\r\n\t\tthis.clear()\r\n\t\tthis.dispose()\r\n\t\t// #ifdef H5\r\n\t\tif(this.isPC) {\r\n\t\t\tdocument.removeEventListener('mousewheel', this.mousewheel)\r\n\t\t}\r\n\t\t// #endif\r\n\t},\r\n\t// #endif\r\n\tcreated() {\r\n\t\t// #ifdef H5\r\n\t\tif(!('ontouchstart' in window)) {\r\n\t\t\tthis.isPC = true\r\n\t\t\tdocument.addEventListener('mousewheel', this.mousewheel)\r\n\t\t}\r\n\t\t// #endif\r\n\t\t// #ifdef MP-WEIXIN || MP-TOUTIAO || MP-ALIPAY\r\n\t\t// const { platform } = uni.getSystemInfoSync();\r\n\t\tconst { platform } = getDeviceInfo();\r\n\t\tthis.isPC = /windows/i.test(platform)\r\n\t\t// #endif\r\n\t\tthis.use2dCanvas = this.type === '2d' && canIUseCanvas2d()\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tthis.$emit('finished')\r\n\t\t})\r\n\t},\r\n\tmethods: {\r\n\t\t// #ifdef APP-NVUE\r\n\t\tonMessage(e) {\r\n\t\t\tconst detail = e?.detail?.data[0] || null;\r\n\t\t\tconst data = detail?.data\r\n\t\t\tconst key = detail?.event\r\n\t\t\tconst options = data?.options\r\n\t\t\tconst event = data?.event\r\n\t\t\tconst file = detail?.file\r\n\t\t\tif (key == 'log' && data) {\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t}\r\n\t\t\tif(event) {\r\n\t\t\t\tthis.chart.dispatchAction(event.replace(/\"/g,''), options)\r\n\t\t\t}\r\n\t\t\tif(file) {\r\n\t\t\t\tthie.file = file\r\n\t\t\t}\r\n\t\t},\r\n\t\t// #endif\r\n\t\tsetChart(callback) {\r\n\t\t\tif(!this.chart) {\r\n\t\t\t\tconsole.warn(`组件还未初始化，请先使用 init`)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(typeof callback === 'function' && this.chart) {\r\n\t\t\t\tcallback(this.chart);\r\n\t\t\t}\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tif(typeof callback === 'function') {\r\n\t\t\t\tthis.$refs.webview.evalJs(`setChart(${JSON.stringify(callback.toString())}, ${JSON.stringify(this.chart.options)})`);\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tsetOption() {\r\n\t\t\tif (!this.chart || !this.chart.setOption) {\r\n\t\t\t\tconsole.warn(`组件还未初始化，请先使用 init`)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.chart.setOption(...arguments);\r\n\t\t},\r\n\t\tshowLoading() {\r\n\t\t\tif(this.chart) {\r\n\t\t\t\tthis.chart.showLoading(...arguments)\r\n\t\t\t}\r\n\t\t},\r\n\t\thideLoading() {\r\n\t\t\tif(this.chart) {\r\n\t\t\t\tthis.chart.hideLoading()\r\n\t\t\t}\r\n\t\t},\r\n\t\tclear() {\r\n\t\t\tif(this.chart) {\r\n\t\t\t\tthis.chart.clear()\r\n\t\t\t}\r\n\t\t},\r\n\t\tdispose() {\r\n\t\t\tif(this.chart) {\r\n\t\t\t\tthis.chart.dispose()\r\n\t\t\t}\r\n\t\t},\r\n\t\tresize(size) {\r\n\t\t\tif(size && size.width && size.height) {\r\n\t\t\t\tthis.height = size.height\r\n\t\t\t\tthis.width = size.width\r\n\t\t\t\tif(this.chart) {this.chart.resize(size)}\r\n\t\t\t} else {\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tuni.createSelectorQuery()\r\n\t\t\t\t\t\t.in(this)\r\n\t\t\t\t\t\t.select(`.lime-echart`)\r\n\t\t\t\t\t\t.boundingClientRect()\r\n\t\t\t\t\t\t.exec(res => {\r\n\t\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\t\tlet { width, height } = res[0];\r\n\t\t\t\t\t\t\t\tthis.width = width = width || 300;\r\n\t\t\t\t\t\t\t\tthis.height = height = height || 300;\r\n\t\t\t\t\t\t\t\tthis.chart.resize({width, height})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tcanvasToTempFilePath(args = {}) {\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tconst { use2dCanvas, canvasId } = this;\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tconst copyArgs = Object.assign({\r\n\t\t\t\t\tcanvasId,\r\n\t\t\t\t\tsuccess: resolve,\r\n\t\t\t\t\tfail: reject\r\n\t\t\t\t}, args);\r\n\t\t\t\tif (use2dCanvas) {\r\n\t\t\t\t\tdelete copyArgs.canvasId;\r\n\t\t\t\t\tcopyArgs.canvas = this.canvasNode;\r\n\t\t\t\t}\r\n\t\t\t\tuni.canvasToTempFilePath(copyArgs, this);\r\n\t\t\t});\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tthis.file = ''\r\n\t\t\tthis.$refs.webview.evalJs(`canvasToTempFilePath()`);\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tthis.$watch('file', async (file) => {\r\n\t\t\t\t\tif(file) {\r\n\t\t\t\t\t\tconst tempFilePath = await base64ToPath(file)\r\n\t\t\t\t\t\tresolve(args.success({tempFilePath}))\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treject(args.fail({error: ``}))\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tasync init(echarts, ...args) {\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tif(args && args.length == 0 && !echarts) {\r\n\t\t\t\tconsole.error('缺少参数：init(echarts, theme?:string, opts?: object, callback?: function)')\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\tlet theme=null,opts={},callback;\r\n\t\t\t\r\n\t\t\tArray.from(arguments).forEach(item => {\r\n\t\t\t\tif(typeof item === 'function') {\r\n\t\t\t\t\tcallback = item\r\n\t\t\t\t}\r\n\t\t\t\tif(['string'].includes(typeof item)) {\r\n\t\t\t\t\ttheme = item\r\n\t\t\t\t}\r\n\t\t\t\tif(typeof item === 'object') {\r\n\t\t\t\t\topts = item\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tif(this.beforeDelay) {\r\n\t\t\t\tawait sleep(this.beforeDelay)\r\n\t\t\t}\r\n\t\t\tlet config = await this.getContext();\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tsetCanvasCreator(echarts, config)\r\n\t\t\ttry {\r\n\t\t\t\tthis.chart = echarts.init(config.canvas, theme, Object.assign({}, config, opts))\r\n\t\t\t\tif(typeof callback === 'function') {\r\n\t\t\t\t\tcallback(this.chart)\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.chart\r\n\t\t\t\t}\r\n\t\t\t} catch(e) {\r\n\t\t\t\tconsole.error(e.messges)\r\n\t\t\t\treturn null\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tthis.chart = new Echarts(this.$refs.webview)\r\n\t\t\tthis.$refs.webview.evalJs(`init(null, null, ${JSON.stringify(opts)}, ${theme})`)\r\n\t\t\tif(callback) {\r\n\t\t\t\tcallback(this.chart)\r\n\t\t\t} else {\r\n\t\t\t\treturn this.chart\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tgetContext() {\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tif(this.finished) {\r\n\t\t\t\treturn Promise.resolve(this.finished)\r\n\t\t\t}\r\n\t\t\treturn new Promise(resolve => {\r\n\t\t\t\tthis.$watch('finished', (val) => {\r\n\t\t\t\t\tif(val) {\r\n\t\t\t\t\t\tresolve(this.finished)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\treturn getRect(`#${this.canvasId}`, {context: this, type: this.use2dCanvas ? 'fields': 'boundingClientRect'}).then(res => {\r\n\t\t\t\tif(res) {\r\n\t\t\t\t\tlet dpr = devicePixelRatio\r\n\t\t\t\t\tlet {width, height, node} = res\r\n\t\t\t\t\tlet canvas;\r\n\t\t\t\t\tthis.width = width = width || 300;\r\n\t\t\t\t\tthis.height = height = height || 300;\r\n\t\t\t\t\tif(node) {\r\n\t\t\t\t\t\tconst ctx = node.getContext('2d');\r\n\t\t\t\t\t\tcanvas = new Canvas(ctx, this, true, node);\r\n\t\t\t\t\t\tthis.canvasNode = node\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// #ifdef MP-TOUTIAO\r\n\t\t\t\t\t\tdpr = !this.isPC ? devicePixelRatio : 1// 1.25\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifndef MP-ALIPAY || MP-TOUTIAO\r\n\t\t\t\t\t\tdpr = this.isPC ? devicePixelRatio : 1\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifdef MP-ALIPAY || MP-LARK\r\n\t\t\t\t\t\tdpr = devicePixelRatio\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifdef WEB\r\n\t\t\t\t\t\tdpr = 1\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\tthis.rect = res\r\n\t\t\t\t\t\tthis.nodeWidth = width * dpr;\r\n\t\t\t\t\t\tthis.nodeHeight = height * dpr;\r\n\t\t\t\t\t\tconst ctx = uni.createCanvasContext(this.canvasId, this);\r\n\t\t\t\t\t\tcanvas =  new Canvas(ctx, this, false);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn { canvas, width, height, devicePixelRatio: dpr, node };\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\t// #ifndef APP-NVUE\r\n\t\tgetRelative(e, touches) {\r\n\t\t\tlet { clientX, clientY } = e\r\n\t\t\tif(!(clientX && clientY) && touches && touches[0]) {\r\n\t\t\t\tclientX = touches[0].clientX\r\n\t\t\t\tclientY = touches[0].clientY\r\n\t\t\t}\r\n\t\t\treturn {x: clientX - this.rect.left, y: clientY - this.rect.top, wheelDelta: e.wheelDelta || 0}\r\n\t\t},\r\n\t\tgetTouch(e, touches) {\r\n\t\t\tconst {x} = touches && touches[0] || {}\r\n\t\t\tconst touch = x ? touches[0] : this.getRelative(e, touches);\r\n\t\t\tif(this.landscape) {\r\n\t\t\t\t[touch.x, touch.y] = [touch.y, this.height - touch.x]\r\n\t\t\t}\r\n\t\t\treturn touch;\r\n\t\t},\r\n\t\ttouchStart(e) {\r\n\t\t\tthis.isDown = true\r\n\t\t\tconst next = () => {\r\n\t\t\t\tconst touches = convertTouchesToArray(e.touches)\r\n\t\t\t\tif(this.chart) {\r\n\t\t\t\t\tconst touch = this.getTouch(e, touches)\r\n\t\t\t\t\tthis.startX = touch.x\r\n\t\t\t\t\tthis.startY = touch.y\r\n\t\t\t\t\tthis.startT = new Date()\r\n\t\t\t\t\tconst handler = this.chart.getZr().handler;\r\n\t\t\t\t\tdispatch.call(handler, 'mousedown', touch)\r\n\t\t\t\t\tdispatch.call(handler, 'mousemove', touch)\r\n\t\t\t\t\thandler.processGesture(wrapTouch(e), 'start');\r\n\t\t\t\t\tclearTimeout(this.endTimer);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tif(this.isPC) {\r\n\t\t\t\tgetRect(`#${this.canvasId}`, {context: this}).then(res => {\r\n\t\t\t\t\tthis.rect = res\r\n\t\t\t\t\tnext()\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tnext()\r\n\t\t},\r\n\t\ttouchMove(e) {\r\n\t\t\tif(this.isPC && this.enableHover && !this.isDown) {this.isDown = true}\r\n\t\t\tconst touches = convertTouchesToArray(e.touches)\r\n\t\t\tif (this.chart && this.isDown) {\r\n\t\t\t\tconst handler = this.chart.getZr().handler;\r\n\t\t\t\tdispatch.call(handler, 'mousemove', this.getTouch(e, touches))\r\n\t\t\t\thandler.processGesture(wrapTouch(e), 'change');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\ttouchEnd(e) {\r\n\t\t\tthis.isDown = false\r\n\t\t\tif (this.chart) {\r\n\t\t\t\tconst touches = convertTouchesToArray(e.changedTouches)\r\n\t\t\t\tconst {x} = touches && touches[0] || {}\r\n\t\t\t\tconst touch = (x ? touches[0] : this.getRelative(e, touches)) || {};\r\n\t\t\t\tif(this.landscape) {\r\n\t\t\t\t\t[touch.x, touch.y] = [touch.y,  this.height - touch.x]\r\n\t\t\t\t}\r\n\t\t\t\tconst handler = this.chart.getZr().handler;\r\n\t\t\t\tconst isClick = Math.abs(touch.x - this.startX) < 10 && new Date() - this.startT < 200;\r\n\t\t\t\tdispatch.call(handler, 'mouseup', touch)\r\n\t\t\t\thandler.processGesture(wrapTouch(e), 'end');\r\n\t\t\t\tif(isClick) {\r\n\t\t\t\t\tdispatch.call(handler, 'click', touch)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.endTimer = setTimeout(() => {\r\n\t\t\t\t\t\tdispatch.call(handler, 'mousemove', {x: 999999999,y: 999999999});\r\n\t\t\t\t\t\tdispatch.call(handler, 'mouseup', {x: 999999999,y: 999999999});\r\n\t\t\t\t\t},50)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// #endif\r\n\t\t// #ifdef H5\r\n\t\tmousewheel(e){\r\n\t\t\tif(this.chart) {\r\n\t\t\t\t// dispatch.call(this.chart.getZr().handler, 'mousewheel', this.getTouch(e))\r\n\t\t\t}\r\n\t\t}\r\n\t\t// #endif\r\n\t}\r\n};\r\n</script>\r\n<style>\t\r\n.lime-echart {\r\n\tposition: relative;\r\n\t/* #ifndef APP-NVUE */\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\t/* #endif */\r\n\t/* #ifdef APP-NVUE */\r\n\tflex: 1;\r\n\t/* #endif */\r\n}\r\n.lime-echart__canvas {\r\n\t/* #ifndef APP-NVUE */\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\t/* #endif */\r\n\t/* #ifdef APP-NVUE */\r\n\tflex: 1;\r\n\t/* #endif */\r\n}\r\n/* #ifndef APP-NVUE */\r\n.lime-echart__mask {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tz-index: 1;\r\n}\r\n/* #endif */\r\n</style>\r\n","import Component from 'E:/HBuilderProjects/BillRecord/uni_modules/lime-echart/components/l-echart/l-echart.vue'\nwx.createComponent(Component)"],"names":["getDeviceInfo","canIUseCanvas2d","uni","sleep","setCanvasCreator","getRect","devicePixelRatio","Canvas","convertTouchesToArray","dispatch","wrapTouch"],"mappings":"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"}